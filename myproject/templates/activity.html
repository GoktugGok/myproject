{% extends 'main.html' %}
{% block content %}
<div class=" d-flex justify-content-center align-items-center mt-5 mb-3">
    <div class="col-md-7 col-10">
        <div class="bg-secondary px-3 py-2 d-flex justify-content-between  align-items-center rounded-top ">
            <div>
                <a href="{{request.META.HTTP_REFERER}}" class="px-3 py-2  " style="font-family: 'Kanit', sans-serif;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="26" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
                    </svg>
                    RECENT ACTIVITIES
                </a>
            </div>
        </div>
        <div style="background-color:#242424;font-family: 'Kanit', sans-serif; " class="rounded-bottom pb-1 px-3">
            <div style="" class="py-3 ">
                {% for message in room_messages %}
                    <div class="shadow-lg p-3 mb-5 mx-1 mb-3 rounded-3 border-top border-end border-danger-subtle "style="background-color:#5e5d5d;">
                        <div>
                            <small class="" style="font-family: 'Kanit', sans-serif;"><a href="{% url 'user-profile' message.user.id %}" class="fs-5 me-5 mb-3 " >@{{message.user}}</a><br><p class="text-light fs-6">{{message.created|timesince}}</p></small>
                        </div>
                        <div>
                            <a class="text-info" href="{% url 'room' message.room.id %}" style="font-family: 'Kanit', sans-serif;">Replied to "{{message.room}}"</a>
                        </div>
                        <div >
                            <p class="text-dark bg-light   p-3 ps-4 mt-4 rounded-5" style="font-family: 'Kanit', sans-serif;">{{message.body}}</p>
                        </div>
                        <div class=" mt-3 mb-2  text-end" style="font-family: 'Kanit', sans-serif;">
                            {% if request.user == message.user %}
                                <a href="{% url 'delete-message' message.id %}" class="p-2 px-3 bg-danger rounded-5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                    <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                                  </svg></a>
                            {% endif %}
                        </div>
                    </div>
                {% endfor %}
        </div>
        </div>
    </div>
</div>
{% endblock  %}